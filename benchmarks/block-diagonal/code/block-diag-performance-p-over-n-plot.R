library(extrafont)
library(latex2exp)
ratios <- c(2, 5, 10, 30, 100, 250, 500, 1000)
n_ratios <- c(1:length(ratios))

rel_err_naive <- readRDS(file = "rel-err-Naive.rds")
fscore_naive  <- readRDS(file = "fscore-Naive.rds")
rel_err_qp    <- readRDS(file = "rel-err-QP.rds")
fscore_qp     <- readRDS(file = "fscore-QP.rds")
rel_err_spec  <- readRDS(file = "rel-err-SGL.rds")
fscore_spec   <- readRDS(file = "fscore-SGL.rds")

colors <- c("#0B032D", "#843B62", "#6ABA81")
pch <- c(15, 7, 9)
lty <- c(1, 2, 6)
legend <- c("Naive", "QP", "SGL (proposed)")
xlab <- TeX("$\\mathit{p} / \\mathit{n}$")
gr = .5 * (1 + sqrt(5))
setEPS()
postscript("../latex/figures/relative_error_block_diagonal.ps", family = "ComputerModern", height = 5, width = gr * 3.5)
plot(n_ratios, rel_err_naive, type = "b", lty = lty[1], pch=pch[1], cex=.75, ylim=c(0, .6),
     xlab = xlab, ylab = "Average Relative Error", col = colors[1], xaxt = "n")
grid()
lines(n_ratios, rel_err_qp,   type = "b", lty=lty[2], pch=pch[2], cex=.75, col = colors[2], xaxt = "n")
lines(n_ratios, rel_err_spec, type = "b", lty=lty[3], pch=pch[3], cex=.75, col = colors[3], xaxt = "n")
axis(side = 1, at = n_ratios, labels = ratios)
legend("topright", legend=legend, col=colors, pch=pch, lty=lty, bty="n")
dev.off()
embed_fonts("../latex/figures/relative_error_block_diagonal.ps", outfile="../latex/figures/relative_error_block_diagonal.ps")
setEPS()
postscript("../latex/figures/fscore_block_diagonal.ps", family = "ComputerModern", height = 5, width = gr * 3.5)
plot(n_ratios, fscore_naive, ylim=c(.3, 1.), xlab = xlab, ylab = "Average F-score", type = "b",
     pch=pch[1], lty=lty[1], cex=.75, col = colors[1], xaxt = "n")
grid()
lines(n_ratios, fscore_qp,   type = "b", lty=lty[2], pch=pch[2], cex=.75, col = colors[2], xaxt = "n")
lines(n_ratios, fscore_spec, type = "b", lty=lty[3], pch=pch[3], cex=.75, col = colors[3], xaxt = "n")
axis(side = 1, at = n_ratios, labels = ratios)
legend("bottomright", legend=legend, col=colors, pch=pch, lty=lty, bty="n")#, bg = "white", box.col = "white")
dev.off()
embed_fonts("../latex/figures/fscore_block_diagonal.ps", outfile="../latex/figures/fscore_block_diagonal.ps")
