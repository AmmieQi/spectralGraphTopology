library(extrafont)
library(latex2exp)
ratios <- c(10, 30, 100, 250, 500, 1000, 2000, 4000, 8000)
n_ratios <- c(1:length(ratios))

rel_err_cgl   <- readRDS(file = "rel-err-CGL.rds")
fscore_cgl    <- readRDS(file = "fscore-CGL.rds")
rel_err_naive <- readRDS(file = "rel-err-naive.rds")
fscore_naive  <- readRDS(file = "fscore-naive.rds")
rel_err_qp    <- readRDS(file = "rel-err-QP.rds")
fscore_qp     <- readRDS(file = "fscore-QP.rds")
rel_err_spec  <- readRDS(file = "rel-err-SGL.rds")
fscore_spec   <- readRDS(file = "fscore-SGL.rds")

colors <- c("#0B032D", "#843B62", "#F67E7D", "#6ABA81")
pch <- c(15, 7, 8, 9)
lty <- c(1, 2, 4, 6)
legend <- c("Naive", "QP", "CGL", "SGL (proposed)")
xlab <- TeX("$\\mathit{p} / \\mathit{n}$")
gr = .5 * (1 + sqrt(5))
setEPS()
postscript("../latex/figures/relative_error_bipartite.ps", family = "ComputerModern", height = 5, width = gr * 3.5)
plot(n_ratios, rel_err_naive, type = "b", lty = lty[1], pch=pch[1], cex=.75, ylim=c(0, .9),
     xlab = xlab, ylab = "Average Relative Error", col = colors[1], xaxt = "n")
grid()
lines(n_ratios, rel_err_qp,   type = "b", lty=lty[2], pch=pch[2], cex=.75, col = colors[2], xaxt = "n")
lines(n_ratios, rel_err_cgl,  type = "b", lty=lty[3], pch=pch[3], cex=.75, col = colors[3], xaxt = "n")
#lines(n_ratios, rel_err_cglA, type = "b", lty=lty[4], pch=pch[4], cex=.75, col = colors[4], xaxt = "n")
lines(n_ratios, rel_err_spec, type = "b", lty=lty[4], pch=pch[4], cex=.75, col = colors[4], xaxt = "n")
axis(side = 1, at = n_ratios, labels = ratios)
legend("topright", legend=legend, col=colors, pch=pch, lty=lty, bty="n")
dev.off()
embed_fonts("../latex/figures/relative_error_bipartite.ps", outfile="../latex/figures/relative_error_bipartite.ps")
setEPS()
postscript("../latex/figures/fscore_bipartite.ps", family = "ComputerModern", height = 5, width = gr * 3.5)
plot(n_ratios, fscore_naive, ylim=c(.5, 1.), xlab = xlab, ylab = "Average F-score", type = "b",
     pch=pch[1], lty=lty[1], cex=.75, col = colors[1], xaxt = "n")
grid()
lines(n_ratios, fscore_qp,   type = "b", lty=lty[2], pch=pch[2], cex=.75, col = colors[2], xaxt = "n")
lines(n_ratios, fscore_cgl,  type = "b", lty=lty[3], pch=pch[3], cex=.75, col = colors[3], xaxt = "n")
#lines(n_ratios, fscore_cglA, type = "b", lty=lty[4], pch=pch[4], cex=.75, col = colors[4], xaxt = "n")
lines(n_ratios, fscore_spec, type = "b", lty=lty[4], pch=pch[4], cex=.75, col = colors[4], xaxt = "n")
axis(side = 1, at = n_ratios, labels = ratios)
legend("bottomright", legend=legend, col=colors, pch=pch, lty=lty, bty="n")
dev.off()
embed_fonts("../latex/figures/fscore_bipartite.ps", outfile="../latex/figures/fscore_bipartite.ps")
