library(extrafont)
library(latex2exp)

k_set <- c(1:14)
re <- readRDS(file = "relerror.rds")
fs <- readRDS(file = "fscore.rds")

gr = .5 * (1 + sqrt(5))
colors <- c("#2c3e50", "#e74c3c")
pch <- c(15, 16)
lty <- c(2, 1)
setEPS()
postscript("../latex/figures/performance_model_mismatch.ps", family = "ComputerModern", height = 5, width = gr * 4)
par(mar = c(5, 5, 3, 5))
plot(k_set, re, type = "b", pch = pch[2], cex=.75, xlab = TeX("$\\mathit{k}$ (number of components)"),
     ylim=c(min(re), max(re)), ylab = "Average Relative Error", lty = lty[2], col = colors[2])
grid()
par(new = TRUE)
plot(k_set, fs, type = "b", pch = pch[1], cex=.75, lty = lty[1],
     xlab = "", ylab = "", col = colors[1], xaxt = "n", yaxt = "n")
axis(side = 4)
mtext("Average F-score", side = 4, line = 3, family = "ComputerModern")
legend("topleft", legend = c("Avg. F-score", "Avg. Relative Error"), col=colors, pch = pch, lty = lty, bty="n")
dev.off()
embed_fonts("../latex/figures/performance_model_mismatch.ps", outfile="../latex/figures/performance_model_mismatch.ps")
